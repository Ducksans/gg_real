---
file: admin/checkpoints/20251001-0310-UTC_1210-KST.md
title: Preact UI 번들 로딩 복구 및 SoT 업데이트
owner: duksan
created: 2025-09-30 15:15 UTC / 2025-10-01 00:15 KST
updated: 2025-09-30 15:37 UTC / 2025-10-01 00:37 KST
status: completed
tags: [checkpoint, figma, plugin, sot]
schemaVersion: 1
description: Figma 환경에서 Preact UI 스크립트가 404로 로드 실패하던 문제를 해결하고 프로젝트 SoT를 최신 상태로 갱신했다.
---

## Summary

- `scripts/build-ui.ts`에서 빌드된 `ui.js`와 `ui.css`를 `ui.html` 내부에 인라인하도록 수정해 Figma 런타임이 ES2017 번들을 안정적으로 로드할 수 있게 했다.
- UI 마운트 로직을 `DOMContentLoaded` 이벤트 대기 방식으로 조정해 플러그인 iframe 로딩 순서에 상관없이 렌더링되도록 보강했다.
- SoT 문서(`admin/state/project.json`)의 업데이트 시각을 최신 작업 기준으로 갱신했다.

## Impacted files

- figma-hello-plugin/scripts/build-ui.ts
- figma-hello-plugin/src/ui/main.tsx
- admin/state/project.json

## Follow-ups

- [ ] `SectionList`/`SchemaEditor` 등 남은 패널을 Preact로 이관해 실행 가능한 섹션 트리 UI를 복구한다.
- [ ] guardrail/preview 스토어와 런타임 메시지를 연동해 실제 Dry-run 결과 데이터를 렌더링한다.
- [ ] 추가된 빌드 방식이 CI 및 다른 환경에서도 문제 없는지 확인하고 문서화한다.
