---
file: admin/checkpoints/20251001-0340-UTC_1240-KST.md
title: SectionList·SchemaEditor Preact 이관 및 런타임 연동
owner: duksan
created: 2025-09-30 16:30 UTC / 2025-10-01 01:30 KST
updated: 2025-09-30 16:45 UTC / 2025-10-01 01:45 KST
status: completed
tags: [checkpoint, figma, plugin, preact]
schemaVersion: 1
description: 섹션 선택·스키마 미리보기 UI를 Preact로 이관하고 런타임 메시지와 guardrail/preview 스토어를 연동했다.
---

## Summary

- `SectionList`와 `SchemaEditor` 컴포넌트를 Preact 기반으로 작성하고 `sectionStore` 신호를 사용해 멀티 섹션 선택과 필터링을 지원했다.
- `schema-builder` 모듈에서 manifest를 등록/파싱해 섹션 JSON을 반환하도록 구현하고, Dry-run 버튼이 선택된 섹션 스키마를 실제 payload로 전송하도록 ExecutionPanel을 갱신했다.
- `useRuntimeListener`에 `init` 메시지 처리를 추가해 manifest→store 초기화를 수행하고, Preview/Guardrail 스토어가 런타임 결과를 반영하도록 보강했다.

## Impacted files

- admin/plan/figmaplugin-refactor.md
- admin/state/project.json
- figma-hello-plugin/src/ui/app.tsx
- figma-hello-plugin/src/ui/components/ExecutionPanel.tsx
- figma-hello-plugin/src/ui/components/ExecutionPanel/index.ts
- figma-hello-plugin/src/ui/components/SchemaEditor/*
- figma-hello-plugin/src/ui/components/SectionList/*
- figma-hello-plugin/src/ui/services/io-listener.ts
- figma-hello-plugin/src/ui/services/schema-builder.ts
- figma-hello-plugin/src/ui/store/sectionStore.ts
- figma-hello-plugin/src/ui/styles/app.css

## Follow-ups

- [ ] SchemaEditor에 편집/실행 로그 diff 뷰 추가 및 유효성 검증 결과 표시.
- [ ] SectionList를 route/slot 기준으로 그룹핑하고, manifest 검색을 위한 advanced 필터 제공.
- [ ] Dry-run 실행 시 target page/page 목록을 선택할 수 있도록 UI 확장 및 payload에 페이지 정보 포함.
