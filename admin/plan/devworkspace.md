---
file: admin/plan/devworkspace.md
title: 관리자 개발 워크스페이스(Dev Workspace) 구축 계획
owner: duksan
created: 2025-09-27 03:54 UTC / 2025-09-27 12:54 KST
updated: 2025-09-29 06:49 UTC / 2025-09-29 15:49 KST
status: draft
tags: [plan, workspace, ux, tooling]
schemaVersion: 1
description: 관리자 페이지 내 개발자 탭을 신설해 문서→시각화→코딩 흐름을 한 화면에서 수행하기 위한 환경 구성 계획
---

# 1. 비전과 배경

- 현재: 문서 정리 후 곧바로 코딩을 수행하면서 시각 자료 부재로 협업 중 오해·재작업이 발생.
- 목표: 관리자 페이지에 **개발자 탭(Dev Workspace)** 을 만들어 _문서화 → 시각화 → 코딩_ 순서를 한 화면에서 강제하고, Codex/VS Code/Figma를 함께 활용하도록 한다.
- 기대 효과
  - 시각 기준이 선행되어 컴포넌트 구조 결정과 구현 방향이 명확해짐.
  - Codex와 사용자 간의 작업 승인 절차가 “피그마 확인 → 코딩 승인” 단계로 정비됨.
  - 디버깅/리뷰 시 책임 경로가 명확(문서·디자인·코드 흔적이 한 곳에 보관).

# 2. 전체 구조 개요

```
관리자 페이지
└─ 개발자 탭 (Dev Workspace)
   ├─ 좌측 패널: 레퍼런스/체크리스트/진행상태
   ├─ 중앙 상단: 작업 유형 선택(문서 · 디자인 · 코딩)
   ├─ 중앙 본문: 선택한 작업 도구 임베드 (위키/Excalidraw, Figma, VS Code)
   └─ 우측 레일: Codex 대화, 승인/피드백 로그, TODO
```

- **문서 작업 모드**: 위키/체크포인트/요구사항을 요약해 레퍼런스 슬롯으로 등록.
- **디자인 작업 모드**: Figma 혹은 Excalidraw 임베드. Codex가 API/플러그인을 통해 와이어프레임을 생성하고 사용자가 피드백.
- **코딩 작업 모드**: 브라우저용 VS Code 서버 + Codex 확장. 사용자는 승인 후에만 실제 파일이 수정됨.

# 3. 도구별 구현 전략

## 3.1 VS Code + Codex (코딩 환경)

- 구성
  - 서버: `code-server` 혹은 VS Code Server를 컨테이너/서비스로 띄워 관리자 페이지에서 iframe으로 접근.
  - 인증: SSO 또는 토큰 기반으로 관리자만 접근하도록 제한, 세션 만료 정책 필수.
  - Codex 연동: Marketplace 확장 설치 후, Codex CLI와 동일한 권한을 관리자가 승인하는 흐름으로 유지.
- 워크플로우
  1. 사용자(duksan)가 레퍼런스와 디자인 승인을 완료한 상태에서 “코딩 모드”를 허용.
  2. Codex가 자연어 요청을 받아 코드 수정, 결과를 다시 Dev Workspace에 보고.
  3. 모든 변경은 자동으로 체크포인트·문서 업데이트와 연동.

## 3.2 Figma/시각화 (디자인 환경)

- 1단계: Figma Embed Viewer를 Dev Workspace에 iframe으로 표시, 실시간 피드백 채널로 활용.
- 2단계: Figma REST API 혹은 전용 플러그인을 통해 Codex가 레이아웃을 직접 그릴 수 있도록 확장.
  - 플러그인 권한 범위 정의(프레임 생성, 컴포넌트 배치, 텍스트 작성 등).
  - 작업 로그를 Dev Workspace 우측 레일에 남겨 추후 감사·롤백에 활용.
  - JSON 스키마 초안: `admin/specs/figma-plugin-schema.md` 참조.
- Excalidraw 등 빠른 스케치 도구도 옵션으로 제공해 초기 와이어프레임을 빠르게 만들 수 있게 한다.

## 3.3 문서/체크리스트 (요구사항 정리)

- 좌측 패널에 “레퍼런스 바인더”를 두어 위키 문서, 체크포인트, 결정 로그, 외부 링크를 등록.
- 문서→디자인→코딩 각 단계 승인 여부를 상태 배지로 표기하고, 완료 후 다음 단계 버튼이 활성화되도록 UX 설계.

# 4. 운영 프로세스(문서 → 시각화 → 코딩)

1. **레퍼런스 정리**
   - 사용자가 요구사항을 Dev Workspace 좌측 패널에 등록.
   - Codex가 요구사항을 요약·체크리스트화하고, 누락 항목이 있으면 질문.
2. **시각화 단계**
   - Codex가 레퍼런스 기반으로 Figma/Excalidraw에 와이어프레임을 생성.
   - 사용자는 실시간으로 피드백하며 승인 또는 수정 요청.
3. **코딩 단계**
   - 승인된 시각 자료를 기반으로 코딩 착수.
   - Codex는 VS Code 임베드를 통해 코드를 작성하고, 테스트/체크포인트 결과를 Dev Workspace에 보고.
4. **피드백 반복**
   - 완료된 화면을 Dev Workspace에서 바로 확인하고, 필요 시 2~3단계를 반복.
5. **기록 및 배포**
   - 모든 단계의 산출물(문서, 디자인, 코드, 변경 로그)을 Dev Workspace에서 묶어 PR/릴리스 노트와 연동.

# 5. 기술 고려 사항

- **보안**: VS Code/피그마 임베드는 관리자 인증, 세션 타임아웃, 네트워크 격리 필요.
- **리소스 관리**: code-server 트래픽, Figma API 호출 한도, Codex 토큰 사용량을 감시.
- **감사 로그**: 각 단계 승인/피드백이 체크포인트와 Git 커밋 메시지에 자동 기입되도록 Hook 구성.
- **접근성**: 임베드된 도구에서도 키보드 네비게이션과 화면 읽기 지원이 유지되도록 가이드 마련.

# 6. 단계별 실행 로드맵

| 단계 | 범위                                               | 완료 기준                                              |
| ---- | -------------------------------------------------- | ------------------------------------------------------ |
| P0   | Dev Workspace IA 설계, 좌/우 패널 프로토타입       | 네비게이션/상태 배지/UI 흐름 목업 완료                 |
| P1   | 문서 모드, VS Code 임베드(읽기 전용) 도입          | 레퍼런스 등록→코딩 승인까지 UX 동선 작동               |
| P2   | VS Code 편집 + Codex 확장 연결, 변경로그 자동 기록 | 관리자 승인 후 Codex가 코드 생성/수정                  |
| P3   | Figma Embed 뷰어, Excalidraw 빠른 스케치           | 사용자 피드백 루프 시연 가능                           |
| P4   | Figma 플러그인/REST 연동으로 Codex가 시각화 자동화 | “피드백 → 수정 → 재검토” 사이클 자동화                 |
| P5   | 워크플로우 자동 검증(테스트/체크포인트/PR)         | Dev Workspace에서 작업한 내용이 릴리스 프로세스와 연동 |

# 7. TODO 및 리스크

- [ ] code-server 인프라 구성안 작성 및 보안 검토.
- [x] Figma API/플러그인 권한 범위 조사 및 PoC.
- [ ] Dev Workspace UI의 상태 관리(store) 설계 (단계별 승인/잠금).
- [ ] Codex와 Figma를 연결할 브릿지 서버/웹훅 설계.
- [ ] 관리자 탭 접근 권한, 감사 로그 저장 위치 결정.

리스크

- 외부 서비스(vs code server, Figma API) 장애에 따른 작업 차질.
- Codex 자동화가 과도한 권한을 갖지 않도록 세밀한 승인 플로우 필요.
- 브라우저에서 여러 임베드 도구가 동시에 돌아갈 때의 성능/네트워크 부하.

# 8. 다음 단계 제안

1. Dev Workspace IA/Wireframe을 Excalidraw/Figma로 작성해 합의.
2. code-server를 Docker로 띄우는 운영 가이드 작성, 인증 방식(SSO/토큰) 결정.
3. 관리자 페이지에 “개발자 탭” 라우트를 생성하고, 모드 전환/레퍼런스 패널 뼈대를 구현.
4. Figma Embed + 플러그인 실행 흐름을 Dev Workspace에서 확인하고 페이지 선택/JSON 실행 가이드를 통합.
5. Codex와 VS Code 통합 후, 문서→시각화→코딩 승인 흐름에 맞춰 자동 체크포인트 스크립트 구성.
