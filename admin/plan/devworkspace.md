---
file: admin/plan/devworkspace.md
title: 관리자 개발 워크스페이스(Dev Workspace) 구축 계획
owner: duksan
created: 2025-09-27 03:54 UTC / 2025-09-27 12:54 KST
updated: 2025-09-29 18:41 UTC / 2025-09-30 03:41 KST
status: draft
tags: [plan, workspace, ux, tooling]
schemaVersion: 1
description: 관리자 페이지 내 개발자 탭을 신설해 문서→시각화→코딩 흐름을 한 화면에서 수행하기 위한 환경 구성 계획
---

# 1. 비전과 배경

- 현재: 문서·디자인·코드 정보를 따로 확인해야 하고, Dry-run/승인 기록이 흩어져 있어 맥락을 복구하기 어렵다.
- 목표: 관리자 페이지에 **Dev Workspace 탭**을 두어 “레퍼런스 → 자동화 실행 → 승인/기록”을 한 화면에서 확인한다.
- 기대 효과
  - Figma 플러그인 결과, Dry-run 로그, 체크포인트 링크를 한 곳에서 모니터링.
  - Codex에게 전달할 맥락(요구사항, 진행 현황, 승인 상태)을 빠르게 정리.
  - 승인 흐름(경고/실패 가드레일, 체크포인트 작성)을 Workspace가 안내.

# 2. 레이아웃 개요

```
관리자 페이지 / Dev Workspace 탭
├─ 좌측: Reference Binder
│   • 요구사항 체크리스트, 최근 체크포인트, Figma 링크, 외부 문서 바로가기
├─ 중앙: Workspace Preview
│   • 플러그인 Dry-run JSON 입력/결과 요약, Figma 썸네일/딥링크, TODO 진행상황
└─ 우측: Approvals & Automation Rail
    • Dry-run 로그, 승인 버튼, Codex 작업 히스토리, 체크포인트 생성
```

- iframe 임베드 대신 **딥링크 + 요약 패널** 방식으로 정보를 보여준다.
- 중앙 영역은 현재 피그마 플러그인 결과(섹션 조합, 경고/오류)를 확인하고 다시 실행하는 데 초점을 둔다.

# 3. 패널별 기능 정의

## 3.1 Reference Binder(좌측)

- 체크리스트: 문서·디자인·코딩 단계별 승인 상태 배지.
- 문서 카드: 최근 체크포인트, 결정 로그, 요구사항 요약을 카드로 표시하고 한 클릭으로 열기.
- Figma & Git 링크: 플러그인 폴더, Variables/Styles 요약 링크, 관련 PR.

## 3.2 Workspace Preview(중앙)

- 플러그인 실행 영역: 섹션 트리, JSON 편집, Dry-run 실행 버튼을 내장(현재 플러그인 UI 활용).
- 플러그인 로그 요약: 경고/오류/성공 메시지를 상단에 표시하고, 결과 요약(생성·경고·오류)을 카드로 보여준다.
- Figma/디자인 요약: 선택된 섹션에 대응하는 Figma 페이지 링크·썸네일을 보여주는 슬롯.

## 3.3 Approvals & Automation Rail(우측)

- Dry-run 로그 스택: 최근 실행 기록(섹션, 경고, 실패, 시간)을 칩 형태로 나열.
- 승인 패널: 경고 해소 체크리스트 → “승인” 버튼 → 체크포인트 초안 자동 생성.
- Codex 작업 로그: 최근 명령/응답 요약, 승인이 필요한 항목 표시.

# 4. 운영 프로세스

1. **요구사항 수집**: 좌측 Binder에서 체크포인트/결정 로그를 선택하고, 작업 범위를 설정.
2. **플러그인 실행**: 중앙 Preview에서 섹션을 선택해 Dry-run을 실행(가드레일 경고/차단 확인).
3. **승인/기록**: 우측 패널에서 경고를 해소하고 승인 → 체크포인트 초안 작성 → Git/문서 업데이트.
4. **피드백 반복**: 필요 시 동일 화면에서 다시 JSON 편집 → Dry-run 실행 → 승인.

# 5. 기술 요소

- **Figma 플러그인 통합**: 현재 구현한 트리 UI/가드레일/로그 패널을 Dev Workspace 중앙 영역에 그대로 사용.
- **Dry-run 메시지 버스**: `dry-run-result`, `dry-run-warning`, `dry-run-error` 메시지를 Dev Workspace와 공유해 승인 패널/체크포인트 작성에 활용.
- **체크포인트 자동화**: 승인 시 Dry-run 결과를 바탕으로 체크포인트 요약을 작성하고 `admin/checkpoints/`에 저장.
- **보안/권한**: Dev Workspace 탭은 관리자 권한 사용자만 접근, 승인·체크포인트 작성 권한 분리.

# 6. 단계별 로드맵 (개정)

| 단계 | 범위                                 | 완료 기준                                                   |
| ---- | ------------------------------------ | ----------------------------------------------------------- |
| P0   | IA 재정의, 좌/중/우 패널 목업        | Dev Workspace 와이어프레임, 섹션 맵핑 표 완성               |
| P1   | Reference Binder 구현                | 체크포인트/결정 로그/요구사항 카드 + 상태 배지 표시         |
| P2   | 플러그인 UI 내장 + Dry-run 로그 패널 | 중앙 Preview에 현재 플러그인 UI 통합, 로그 패널 작동        |
| P3   | 승인 패널 & 체크포인트 자동화        | Dry-run 결과→승인→체크포인트 초안까지 한 화면에서 실행      |
| P4   | Figma 딥링크/Variables 상태 요약     | Variables/Styles 요약 카드, Figma 썸네일 링크 제공          |
| P5   | Codex 로그/승인 히스토리 연동        | Codex 대화 요약·승인 히스토리 패널 완성, 통합 테스트 보고서 |

# 7. TODO 및 리스크 (개정)

- [ ] Reference Binder 카드 데이터 소스 정리(체크포인트, 결정 로그, PR 링크).
- [ ] Dry-run 메시지 포맷 ↔ 체크포인트 자동화 스크립트 연결.
- [ ] 승인 패널 UX 설계(경고 해소 체크리스트, 승인 버튼, 체크포인트 생성).
- [ ] Figma Variables/Styles 요약 카드 구현(누락 토큰 경고).
- [ ] Codex 대화 요약 API/로그 저장 방식 결정.

리스크

- Dry-run 로그/승인이 분리되면 흐름이 끊길 수 있음 → 자동 메시지 전달·승인 가드 필요.
- 체크포인트 자동화가 실패할 경우 수동 작성 플로 마련.
- Figma Variables 상태를 연결할 때 API 호출 제한·권한 이슈 발생 가능.

# 8. 다음 단계 제안

1. Dev Workspace 와이어프레임을 현재 플러그인(Dry-run 패널 포함)으로 시각화해 합의.
2. Reference Binder 데이터 모델 정의(체크포인트, 결정 로그, 외부 링크 JSON).
3. Dry-run 메시지를 Dev Workspace 탭에서 수신·표시하는 승인 패널 기초 구현.
4. 체크포인트 자동화 스크립트와 승인 버튼 연동 PoC.
